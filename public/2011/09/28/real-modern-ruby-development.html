
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>(Real) Modern Ruby Development - Literate Programming</title>
  <meta name="author" content="Steve Klabnik">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://blog.steveklabnik.com/2011/09/28/real-modern-ruby-development.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/steveklabnik" rel="alternate" title="Literate Programming" type="application/atom+xml"/>
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Literate Programming</a></h1>
  
    <h2>Code is data, data is code. s/data/language/g;</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/steveklabnik" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:blog.steveklabnik.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    
      <h1 class="entry-title">(Real) Modern Ruby Development</h1>
    
    
      <p class="meta">





  



<time datetime="2011-09-28T06:31:00-04:00" pubdate  data-updated="true" >Sep 28<span>th</span>, 2011</time></p>
    
  </header>


<div class="entry-content"><p>I came across a blog post the other day titled <a href="http://ascarter.net/2011/09/25/modern-ruby-development.html">Modern Ruby Development</a>.
While it&#8217;s a perfectly fine blog post (other than the digs at rvm&#8230;) it really
should have been titled something more along the lines of &#8220;My default tooling
to build a Rails application.&#8221; I thought of this yesterday, as I was invited
to show up at <a href="http://www.vertigo.com/">Vertigo</a> and show them how we do things
in the Open Source world. Vertigo builds lots of cool things, but they tend to
be very .NET centric, and it was neat for both of us to see how the other half
lives.</p>

<p>Shortly before my &#8216;presentation,&#8217; we decided that I&#8217;d basicaly just build a
little web app in front of them. Live coding to the max! We decided for maximum
awesome, and since I was in town for the Twilio conference, that I&#8217;d make a
Twilio app that they could text and it&#8217;d text you &#8216;hello world: you said #{msg}&#8221;
back. I thought I&#8217;d share that process with you, too. I ended up throwing away
the code, though, because I committed my account credentials into the git repo
to simplify things, so I&#8217;ll just be describing it to you. Check my other posts
for code stuff. ;)</p>

<p>Oh, and one more thing: lots of this stuff is about getting &#8216;iteration zero&#8217; out
of the way: it&#8217;s setup work that you have to do to set the tone for everything
else. In its own way, it&#8217;s also a tooling overview, I&#8217;ve just focused on the
tools that help the process rather than the language stuff. I&#8217;ve already written
a more &#8216;dev proccess&#8217; style post over at <a href="http://timelessrepo.com/bdd-with-rspec-and-steak">Timeless</a>,
about BDD.</p>

<h2>rvm &#8211;rvmrc &#8211;create 1.9.2@hello_text</h2>

<p>First up: decide what Ruby you&#8217;re using. I talked breifly about MRI, Rubinius,
and JRuby, and some pros and cons for each. I still tend to use MRI for my
production code at the moment, but soon, rbx will become my default.</p>

<p>I use rvm because it does exactly what I want.</p>

<h2>mvim README.md</h2>

<p>I really enjoy <a href="http://tom.preston-werner.com/2010/08/23/readme-driven-development.html">README driven development</a>.
I didn&#8217;t actually demo this due to time constraints, but I generally write at
least a minimal README.md before doing anything else. During Windy City Rails,
Tom shared something that he likes doing: <code>mv README.md SPEC.md</code>. That way,
you can keep your actual README in sync with what the code does right now, but
have the final one that you want to work towards too.</p>

<h2>git push origin</h2>

<p>Now that we have a file, we can push it up to GitHub. A few clicks on the web,
a <code>git add remote</code> and <code>git push -u origin master</code> and we&#8217;re off to the races.</p>

<h2>mvim Gemfile &amp;&amp; bundle</h2>

<p>Next up we talked about Bundler, Gemfiles, and managing gems. I talked about
the ability to run your own private gem server for internal gems, and how
easy it is to build and publish a gem.</p>

<h2>mkdir spec</h2>

<p>I then generally type this. I would be lying to you if I told you that I do TDD
100% of the time. Sometimes, I get lazy. But I try to. And since testing is such
a huge part of Ruby culture, and we have world-class testing tools, this is
where I started.</p>

<p>I wrote specs for a model class called SmsGateway. This class would handle
sending a message to a phone via Twilio. I was able to show off rspec, talk
about DSLs, mocking, and TDD.</p>

<h2>mvim something.rb</h2>

<p>In this case it&#8217;s sms_gateway.rb, but you know what I mean. Write some code,
<code>rspec spec/sms_gateway_spec.rb</code>, repeat. Red, Green, Refactor. Wheee!</p>

<h2>mvim .travis.yml</h2>

<p>I wanted to show Travis off, so in my demo I did this before implementing the
gateway class, but normally I&#8217;d do this after the first spec passes.
Continuous Integration and even Continuous Deployment are awesome. Travis
makes it super easy.</p>

<h2>Sign up for external services</h2>

<p>I went over to Twilio&#8217;s site, registered a new account, and got my credentials.
I used their docs to figure out where to put them, and how to get it all going
inside my gateway class (I just mocked it out before), and talked about how
needing to Google for docs is a weakness of Ruby.</p>

<h2>heroku create &amp;&amp; git push heroku master</h2>

<p>Then I showed them how to get going with Heroku, and how easy it was to start
giving them hundreds of dollars per month when you need to scale. .NET people
are used to paying for everything. ;)</p>

<p>I also showed off one of my latest projects, which is an IRC bot that lets me
deploy rstat.us into production. I have some serious Hubot envy. :D</p>

<h2>&#8230; repeat!</h2>

<p>I&#8217;d be lying if I said it worked the first time, I accidentally made a loop
where the app texted itself. Whoops! But that was cool, and showing off my
debugging process (I&#8217;m a <code>puts/throw params</code> debugger) was fun, as well. After
realizing what I did wrong, we had the app working.</p>

<h2>It&#8217;s not quite perfect</h2>

<p>This dev process isn&#8217;t perfect yet. Nothing ever is. I&#8217;m always trying to
improve upon it, but I&#8217;m pretty happy with how quickly I&#8217;m able to turn out
new projects with a reasonable amount of quality. What&#8217;s your workflow? How
does mine suck? <a href="mailto:steve@steveklabnik.com">Email me</a>, I&#8217;d love to hear
about it.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Steve Klabnik</span></span>

      





  



<time datetime="2011-09-28T06:31:00-04:00" pubdate  data-updated="true" >Sep 28<span>th</span>, 2011</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.steveklabnik.com/2011/09/28/real-modern-ruby-development.html" data-via="steveklabnik" data-counturl="http://blog.steveklabnik.com/2011/09/28/real-modern-ruby-development.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
</div>

    
  </footer>
</article>

</div>

<aside role=sidebar>
  
    <aside>
<img src='http://en.gravatar.com/userimage/5335489/ee56a7574df33ed8748160494c930b98.jpg?size=190' />
<h4>Hi there, I'm Steve.</h4>
<p>
I write both code and prose. Here's some of my thoughts about software,
literature, art and code, with some politics thrown in on occasion.
You might also enjoy <a href="http://steveklabnik.com/">my website</a>.
</p>
</aside>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/12/11/devise-actioncontroller-routingerror-no-route-matches-get-slash-users-slash-sign-out.html">Devise: ActionController::RoutingError (No Route Matches [GET] /users/sign_out)</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/28/book-review-new-programmers-survival-manual.html">Book Review: New Programmer's Survival Manual</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/17/burnout.html">Burnout</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/25/your-startup-is-not-a-platform.html">Your Startup is NOT a Platform</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/19/for-science-im-killing-my-cell-phone.html">For Science: I'm Killing My Cell Phone</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/steveklabnik">@steveklabnik</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'steveklabnik',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("steveklabnik", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/steveklabnik" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @steveklabnik</a>
  
</section>




  
</aside>


    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - Steve Klabnik -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10289851-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
